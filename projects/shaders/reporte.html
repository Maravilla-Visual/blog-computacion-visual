<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/blog-computacion-visual/_next/static/css/ac8123a9eebcd1753d8c.css" as="style"/><link rel="stylesheet" href="/blog-computacion-visual/_next/static/css/ac8123a9eebcd1753d8c.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/main-2936967c22c90c888abc.js" as="script"/><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/webpack-b22eebb68bc1464c5786.js" as="script"/><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/framework.15d2bace796d79622eca.js" as="script"/><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.3dac841bdfaa3c50a2e4.js" as="script"/><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/pages/_app-3b64b49118dfdd592735.js" as="script"/><link rel="preload" href="/blog-computacion-visual/_next/static/chunks/pages/projects/shaders/reporte-939c78d4ab9d3e4673e4.js" as="script"/></head><body><div id="__next"><div class="main-container"><div style="width:100%;height:100%;position:absolute"><div style="height:100%" class="container-fluid"><div style="height:100%" class="row"><div style="padding-left:0;padding-right:0" class="navbar col-lg-2 col-3"><div style="height:100%"><div class="navbar-container" style="height:100%"></div><div style="position:absolute;height:100%;width:100%;top:0;left:0;padding-top:4rem"><div class="navbar-home" style="margin:0 auto;cursor:pointer;display:table"><a href="/blog-computacion-visual"><svg width="4em" height="4em" viewBox="0 0 16 16" class="home-button" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M8 3.293l6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6zm5-.793V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z"></path><path fill-rule="evenodd" d="M7.293 1.5a1 1 0 0 1 1.414 0l6.647 6.646a.5.5 0 0 1-.708.708L8 2.207 1.354 8.854a.5.5 0 1 1-.708-.708L7.293 1.5z"></path></svg></a></div><div style="margin-top:5rem"><div class="row"><div class="sidebar-item col-12"><a class="navbar-title"><p>Análisis de imagen</p></a></div></div><div class="row"><div class="sidebar-item col-12"><a class="navbar-title"><p>Ilusiones visuales</p></a></div></div><div class="row"><div class="sidebar-item col-12"><a class="navbar-title"><p>Light Shaders</p></a></div></div><div class="row"><div class="sidebar-item col-12"><a class="navbar-title"><p>Fractales de Newton</p></a></div></div><div class="row"><div class="sidebar-item col-12"><a href="/blog-computacion-visual/about" class="navbar-title"><p>Sobre nosotros</p></a></div></div></div></div></div></div><div style="padding-left:0;padding-right:0" class="col-lg-10 col-8"><div class="main-projects-container"><div class="title"><h1 class="title-text">Reporte</h1></div><div class="contenido-reporte"><p class="ilusion-explanation ml-3"> <!-- -->La iluminación es uno de los temas más importantes en el campo de los gráficos 3D. Modelarlo correctamente agrega mucho al atractivo visual de la escena renderizada. Esto es algo bastante complejo, ya que el comportamiento natural tiene bastantas variables complejas de modelar, con este taller se busca trabajar con distintos tipos de iluminación implementados por medio de shaders.<!-- --> </p><h3 class="mt-4">Teoria</h3><p class="ilusion-explanation ml-3"> <!-- -->A lo largo de los años se han desarrollado varios modelos que capturan el efecto de núcleo que tiene la luz cuando incide sobre los objetos y los hace visibles. Estos modelos ligeros se han vuelto cada vez más complejos a medida que avanza el campo de los gráficos 3D y se disponía de más potencia de cálculo, a continuación vamos a ver los diferentes tipos de luz que son pertinentes para el taller.<!-- --> </p><h5 class="mb-4">1. Ambient Light</h5><p class="ilusion-explanation ml-3"> <!-- -->Tipo de luz que se presenta cuando al aire libre en un día soleado normal. Aunque el sol viaja por el cielo y sus rayos de luz inciden en el mundo en diferentes ángulos a lo largo del día, la mayoría de las cosas serán visibles, incluso si está en la sombra. Dado que la luz rebota en todo, eventualmente golpea todo, por lo que los objetos que no están en el camino directo del sol también se iluminan. La luz ambiental se modela como una luz que no tiene origen ni dirección y tiene el mismo efecto en todos los objetos de la escena.<!-- --> </p><h6 class="mb-4">1.1 Directional Light</h6><p class="ilusion-explanation ml-3"> <!-- -->Una fuente de este tipo de iluminación es luz direccional tiene una dirección, pero no un origen específico. Esto significa que todos los rayos de luz son paralelos entre sí. La dirección de la luz se especifica mediante un vector y ese vector se utiliza para calcular la luz en todos los objetos de la escena, independientemente de su posición. Una propiedad importante de una luz direccional es que su brillo permanece igual independientemente de la distancia desde el objeto iluminado.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->TPara especificar el color de las fuentes de luz se utiliza un trio de valores de punto flotante en rango [0, 1]. Multiplicando el color de la luz por el color del objeto obtenemos el color reflejado. Sin embargo, también queremos tener en cuenta la intensidad de la luz ambiental. Por lo tanto, la intensidad ambiental se especificará como un único valor de punto flotante en el rango [0-1] que también se multiplicará por todos los canales del color reflejado que acabamos de calcular. Este será el color final. A continuación, se muestra una imagen con luz direccional y la ecuación de cálculo de la luz ambiental.<!-- --> </p><div class="d-flex flex-column align-items-center"><img src="/blog-computacion-visual/ambient.png" alt="Ambient-light" class="about-perfil-img"/><small>Tomado de: www.cv.com</small></div><h5 class="mb-4">2. Diffuse Light</h5><p class="ilusion-explanation ml-3"> <!-- -->La principal diferencia entre la luz ambiental y la luz difusa es el hecho de que la luz difusa depende de la dirección de los rayos de luz, mientras que la luz ambiental la ignora por completo. Cuando solo hay luz ambiental, toda la escena está igualmente iluminada. La luz difusa hace que las partes de los objetos que miran hacia la luz sean más brillantes que las partes opuestas a ella.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->El modelo de luz difusa se basa en realidad en la ley del coseno de Lambert que dice que la intensidad de la luz reflejada desde una superficie es directamente proporcional al coseno del ángulo entre la línea de visión del observador y la superficie normal. Para calcular la intensidad de la luz en el modelo difuso, simplemente usaremos el<!-- --> <bold>coseno del ángulo entre la luz y la superficie normal</bold>.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->En la siguiente imagen vemos cuatro rayos de luz que golpean la superficie en diferentes ángulos. La normal de la superficie es la flecha verde que apunta hacia la superficie. El rayo de luz A tiene la mayor fuerza. El ángulo entre A y la normal es cero y el coseno de cero es 1. Esto significa que después de multiplicar la intensidad de la luz (tres canales de 0 a 1) por el color de la superficie, multiplicaremos por 1. Podemos &#x27; No hay nada mejor que esto con luz difusa. El rayo de luz B incide en la superficie en un ángulo entre 0 y 90. Esto significa que el ángulo entre B y la normal también está entre 0 y 90 y el coseno de ese ángulo está entre 0 y 1. Escalaremos el resultado de la multiplicación arriba por el coseno de ese ángulo, lo que significa que la intensidad de la luz definitivamente será menor que el rayo de luz A. Las cosas se vuelven diferentes con los rayos de luz C y D. C golpea la superficie directamente desde un lado, en un ángulo de 0. El ángulo entre C y la normal es exactamente de 90 grados y el coseno es 0. Esto hace que C no tenga efecto sobre iluminando la superficie en absoluto! El ángulo entre D y la normal es obtuso, lo que significa que el coseno es un número negativo que es menor que 0 y mayor o igual a -1. El resultado final es el mismo que C, sin efecto sobre el brillo de la superficie.<!-- --> </p><div class="d-flex flex-column align-items-center"><img src="/blog-computacion-visual/diffuse.png" alt="diffuse-light" class="about-perfil-img"/><small>Tomado de: www.cv.com</small></div><p class="ilusion-explanation ml-3"> <!-- -->En la segunda imagen se muestra el truco consistente en utilizar un concepto conocido como &quot;vértice normal&quot;. Una normal de vértice es el promedio de las normales de todos los triángulos que comparten el vértice. En lugar de hacer que el sombreador de vértices calcule la luz difusa, solo pasamos por la normal de vértice como un atributo del sombreador de fragmentos y nada más. El rasterizador obtendrá tres normales diferentes y deberá interpolar entre ellas. El sombreador de fragmentación se invocará para cada píxel con la normal específica para este píxel. Luego podemos calcular la luz difusa a nivel de píxel usando esa normal específica. El resultado será un efecto de iluminación que cambia muy bien a lo largo de la cara del triángulo y entre los triángulos vecinos. Esta técnica se conoce como Phong Shading. La segunda imagen muestra las normales de vértice después de la interpolación.<!-- --> </p><h5 class="mb-4">3. Specular Light</h5><p class="ilusion-explanation ml-3"> <!-- -->La iluminación especular agrega un nuevo elemento a la mezcla: la posición del espectador. La idea es que cuando la luz incide en una superficie en algún ángulo, también se refleja en el mismo ángulo (al otro lado de la normal). Si el espectador se encuentra exactamente en algún lugar del camino del rayo de luz reflejado, recibe una mayor cantidad de luz que un espectador que se encuentra más lejos.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->El resultado final de la iluminación especular es que los objetos se verán más brillantes desde ciertos ángulos y este brillo disminuirá a medida que se aleje. El ejemplo perfecto de iluminación especular del mundo real son los objetos metálicos. Este tipo de objetos a veces pueden ser tan brillantes que en lugar de ver el objeto en su color natural, ves una mancha de luz blanca brillante que se refleja directamente en ti. Sin embargo, este tipo de cualidad que es muy natural para los metales está ausente en muchos otros materiales (por ejemplo, madera). Muchos objetos simplemente no brillan, independientemente de dónde venga la luz y dónde esté parado el espectador. La conclusión es que el factor especular depende más del objeto que de la luz misma.<!-- --> </p><div class="d-flex flex-column align-items-center"><img src="/blog-computacion-visual/specular.png" alt="Specular-light" class="about-perfil-img"/><small>Tomado de: www.cv.com</small></div><p class="ilusion-explanation ml-3"> <!-- -->En la primera parte de la anterior imagen hay cinco elementos a tener en cuenta:<!-- --> </p><ul><li>&#x27;I&#x27; es la luz incidente que incide en la superficie (y genera la luz difusa).</li><li>&#x27;N&#x27; es la superficie normal.</li><li>&#x27;R&#x27; es el rayo de luz que se refleja desde la superficie. Es simétrico a través de la normal de &#x27;I&#x27; pero su dirección general está invertida (apunta &quot;hacia arriba&quot; y no &quot;hacia abajo&quot;).</li><li>&#x27;V&#x27; es el vector desde el punto en la superficie donde la luz incide en el &#x27;ojo&#x27; (que representa al espectador).</li><li>&#x27;α&#x27; es el ángulo creado por los vectores &#x27;R&#x27; y &#x27;V&#x27;.</li></ul><p class="ilusion-explanation ml-3"> <!-- -->Vamos a modelar el fenómeno de la luz especular usando el ángulo &#x27;α&#x27;. La idea detrás de la luz especular es que la fuerza de la luz reflejada será máxima a lo largo del vector &#x27;R&#x27;. En ese caso, &#x27;V&#x27; es idéntica a &#x27;R&#x27; y el ángulo es cero. A medida que el espectador comienza a alejarse de &#x27;R&#x27;, el ángulo aumenta. Queremos que el efecto de la luz disminuya gradualmente a medida que aumenta el ángulo. A estas alturas probablemente pueda adivinar que vamos a utilizar la operación del producto escalar de nuevo para calcular el coseno de &#x27;α&#x27;. Esto servirá como nuestro factor especular en la fórmula de iluminación. Cuando &#x27;α&#x27; es cero, el coseno es 1, que es el factor máximo que podemos obtener. A medida que disminuye &#x27;α&#x27;, el coseno se vuelve más pequeño hasta que &#x27;α&#x27; alcanza los 90 grados donde el coseno es cero y no hay absolutamente ningún efecto especular. Cuando &#x27;α&#x27; es más de 90 grados, el coseno es negativo y tampoco hay efecto especular. Esto significa que el espectador no se encuentra en absoluto en el camino del rayo de luz reflejado.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->En la segunda parte de la imagen se muestra la formula final de la luz especular.<!-- --> </p><h3 class="mt-4">Discusión</h3><p class="ilusion-explanation ml-3"> <!-- -->El comportamiento de la luz es en la actualidad un tema importante en la computación y desarrollo 3d, ya que contenido cotidiano como juegos, videos, películas, y más contenido requieren la adición de comportamiento de luz a sus gráficos. Esto nos obliga como desarrolladores de este tipo de contenidos a profundizar cada vez más en el comportamiento de la luz, perfeccionando y tratando de acercarse más a la realidad y el comportamiento natural, esta necesidad implica no solo estudiar algoritmos computacionales sino teoría y observación.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->Cuando observamos la iluminación en la vida real, y la tratamos de entender, podemos pensar que su comportamiento es bastante simple, y en efecto los ángulos, los focos de emisión se comportan de una manera sencilla, si se quiere enfatizar en un solo emisor de luz y ver cómo se comporta su flujo desde el foco, hasta su disipación en energía. Pero en el mundo real no existe un único emisor u origen de la luz, en el mundo real existen otros componentes que hacen que el comportamiento de la luz se vuelva complejo y dificulte su simulación.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->Entonces podemos observar en el mundo real, diferentes comportamientos de la luz, que dependen tanto de objetos que están en el paisaje, como del comportamiento natural de la luz, por ejemplo, si ponemos un vidrio o un espejo ante la emisión del sol, podemos observar que se genera otra fuente de luz, pero el comportamiento de este sería algo particular, ya que imitaría el de su emisor pero con menos intensidad, ahora el objeto que esté en un punto donde los dos emisores lo afecten, podría estar afectado por el mismo emisor, desde dos puntos distintos. Esto es solo un pequeño ejemplo de que por un simple objeto en el paisaje el sujeto que esté expuesto a la luz puede verse afectado en gran medida.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->Entonces podemos observar en el mundo real, diferentes comportamientos de la luz, que dependen tanto de objetos que están en el paisaje, como del comportamiento natural de la luz, por ejemplo, si ponemos un vidrio o un espejo ante la emisión del sol, podemos observar que se genera otra fuente de luz, pero el comportamiento de este sería algo particular, ya que imitaría el de su emisor pero con menos intensidad, ahora el objeto que esté en un punto donde los dos emisores lo afecten, podría estar afectado por el mismo emisor, desde dos puntos distintos. Esto es solo un pequeño ejemplo de que por un simple objeto en el paisaje el sujeto que esté expuesto a la luz puede verse afectado en gran medida.<!-- --> </p><p class="ilusion-explanation ml-3"> <!-- -->Los temas vistos al comienzo de este reporte tienen un gran efecto en la simulación de la luz, por lo tanto, se puede decir que un correcto generador de estos efectos podría hacer que el espectador, de verdad aprecie y crea en la realidad del efecto realizado. Si tratamos de entender este efecto en código, observamos que un efecto de luz puede afectar a todos los píxeles, de nuestra imagen o frame, por lo tanto, a cada frame este comportamiento de la luz podría afectar todos los pixeles con una función que combine diferentes efectos de los que hemos hablado.<!-- --> </p></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/projects/shaders/reporte","query":{},"buildId":"C6AZwtH2eVgMCY-hYLpGa","assetPrefix":"/blog-computacion-visual","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/blog-computacion-visual/_next/static/chunks/polyfills-16a647303b65c72e1931.js"></script><script src="/blog-computacion-visual/_next/static/chunks/main-2936967c22c90c888abc.js" async=""></script><script src="/blog-computacion-visual/_next/static/chunks/webpack-b22eebb68bc1464c5786.js" async=""></script><script src="/blog-computacion-visual/_next/static/chunks/framework.15d2bace796d79622eca.js" async=""></script><script src="/blog-computacion-visual/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.3dac841bdfaa3c50a2e4.js" async=""></script><script src="/blog-computacion-visual/_next/static/chunks/pages/_app-3b64b49118dfdd592735.js" async=""></script><script src="/blog-computacion-visual/_next/static/chunks/pages/projects/shaders/reporte-939c78d4ab9d3e4673e4.js" async=""></script><script src="/blog-computacion-visual/_next/static/C6AZwtH2eVgMCY-hYLpGa/_buildManifest.js" async=""></script><script src="/blog-computacion-visual/_next/static/C6AZwtH2eVgMCY-hYLpGa/_ssgManifest.js" async=""></script></body></html>